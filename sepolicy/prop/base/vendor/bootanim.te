# ==============================================
# MTK Policy Rule
# ==============================================

# Date : WK16.29
# Operation : Migration
# Purpose : for gpu access
allow bootanim dri_device:chr_file rw_file_perms;

allow bootanim debugfs_ion:dir search;

# Date : WK14.46
# Operation : Migration
# Purpose : For MTK Emulator HW GPU
allow bootanim qemu_pipe_device:chr_file rw_file_perms;

# Date : WK19.11
# Purpose: Allow to access ged for gralloc_extra functions
allow bootanim proc_ged:file rw_file_perms;
allowxperm bootanim proc_ged:file ioctl { proc_ged_ioctls };

# Date : WK17.43
# Operation : Migration
# Purpose : For MTK perfmgr
allow bootanim proc_perfmgr:dir r_dir_perms;
allow bootanim proc_perfmgr:file r_file_perms;
allowxperm bootanim proc_perfmgr:file ioctl {
  PERFMGR_FPSGO_QUEUE
  PERFMGR_FPSGO_DEQUEUE
  PERFMGR_FPSGO_QUEUE_CONNECT
  PERFMGR_FPSGO_BQID
  PERFMGR_FPSGO_BUFFER_QUOTA
  PERFMGR_FPSGO_ACQUIRE
};

# Date : W16.42
# Operation : Integration
# Purpose : DRM / DRI GPU driver required
allow bootanim gpu_device:dir search;

# Date : WK21.26
# Operation : Migration
# Purpose : donotaudit data directory search
dontaudit bootanim system_data_file:dir search;

# Data: 2023/09/04
# Operation: Add for MBrain
hal_client_domain(bootanim, hal_mtk_mbrain)
get_prop(bootanim, vendor_mtk_mbrain_support_prop)
