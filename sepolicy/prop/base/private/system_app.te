# ==============================================
# MTK Policy Rule
# ==============================================

# Date : 2016/07/12
# Purpose : Issue submitter need creat folder on SD card
allow system_app vfat:dir create_dir_perms;

# Date: 2017/07/01
# Change to simple policy
allow system_app media_rw_data_file:dir rw_dir_perms;
allow system_app media_rw_data_file:file rw_file_perms;

# Purpose: receive dropbox message
allow system_app system_server:unix_stream_socket connectto;
allow system_app crash_dump:unix_stream_socket connectto;

# Date : 2021/01/19
# Purpose : access power hal
hal_client_domain(system_app, hal_power)
hal_client_domain(system_app, hal_mtk_power)

# Date: 2021/09/06
# Purpose: To enable Google UCE Flow
set_prop(system_app, system_mtk_rcs_single_reg_support_prop)

# Date: 2016/11/10
# Purpose: [MDM] Modem monitor config
# Package Name: com.mediatek.mdmconfig
set_prop(system_app, config_prop)

# Date : WK17.31
# Operation : Migration
# Purpose : Carrier express service on BSP
allow system_app mtk_carrierexpress_service:service_manager add;
set_prop(system_app, system_mtk_usp_srv_prop)
set_prop(system_app, system_mtk_persist_vendor_vzw_device_type_prop)
set_prop(system_app, system_mtk_uce_support_prop)
set_prop(system_app, system_mtk_rcs_support_prop)
set_prop(system_app, system_mtk_clientapi_support_prop)
set_prop(system_app, radio_prop)

# Date : W17.36
# Operation : SQC
# Purpose : allow MOTA app to write perist.update_finished, persist_update_started
set_prop(system_app, system_mtk_update_prop)

# Date : 2018/06/21
# Operation : P Migration
# Purpose : Allow AtciService to set ATCI property
set_prop(system_app, system_mtk_atci_sys_prop)

# Date : 2018/06/21
# Stage: Migration
# Purpose: allow system app to set RTT property
set_prop(system_app, system_mtk_rtt_prop)

# Date: 2018/07/18
# Operation: Migration
# Purpose: all System app to read property
get_prop(system_app, system_mtk_update_support_prop)

# Date : 2018/07/19
# Operation : P Migration
# Purpose : Allow to get AAL property
get_prop(system_app, system_mtk_aal_prop)

# Date: 2018/07/24
# Operation: Migration
# Purpose : Allow system-app to get system_mtk_wfc_opt_in_prop
# Package: com.mediatek.settings.ext
get_prop(system_app, system_mtk_wfc_opt_in_prop)

# Date : W18.28
# Operation : New feature for VSIM SQC
set_prop(system_app, system_mtk_vsim_sys_prop)

# Date : W18.28
# Operation : New feature for VSIM SQC
# Purpose : Allow OSI Permission control to tcp socket
allow system_app osi:tcp_socket create_socket_perms_no_ioctl;

# Date: 2018/10/26
# Purpose: Allow system app to get Subsidy Lock properties
get_prop(system_app, system_mtk_subsidylock_prop)

# Date: 2018/10/31
# Operation: Support SubsidyLock
set_prop(system_app, system_mtk_subsidylock_connect_prop)

# Date: 2019/02/14
# Purpose: Permission Control configure
# Package Name: com.mediatek.security
set_prop(system_app, system_mtk_permission_control_prop)

# Date:2019/05/21
# Purpose: Allow OP12settings to get opt_in_url_prop
# Package: com.mediatek.op12.settings;
get_prop(system_app, system_mtk_opt_in_url_prop)
get_prop(system_app, system_mtk_apptoken_required_prop)

# Date: 2019/06/06
# Operation: SimProcessor needs to read telephony log switch property
# Purpose: allow to get system_mtk_em_tel_log_prop
get_prop(system_app, system_mtk_em_tel_log_prop)

# Date : 2019/05/28
# Operation : Q Migration
# Purpose : allow to get mtk_cta_set and mtk_cta_support property
get_prop(system_app, system_mtk_cta_set_prop)

# Date : 2019/06/03
# Operation : Q Migration split build
# Purpose : allow to get system_mtk_rsc_sys_prop
get_prop(system_app, system_mtk_rsc_sys_prop)

# Date: 2019/07/22
# Purpose: Allow op07settings to get system_mtk_wfc_entitlement_prop
# Package: com.mediatek.op07.settings
get_prop(system_app, system_mtk_wfc_entitlement_prop)

# Date: 2019/07/23
# Purpose: allow to read init.svc.md_monitor property for calling SystemService.waitForState()
# Package Name: com.mediatek.mdmconfig
get_prop(system_app, system_mtk_init_svc_md_monitor_prop)

# Date : 2022/05/19
# Operation : Migration
# Purpose : Allow VoiceCommand app to get hidl service
hal_client_domain(system_app, hal_audio)

# DMC : 2022/06/20
# Purpose : allow to setprop system_mtk_dmc_prop
get_prop(system_app, system_mtk_dmc_prop)

# DMC : 2022/08/12
# Purpose : allow to getprop system_mtk_memtag_prop
get_prop(system_app, system_mtk_memtag_prop)

# Date : 2023/02/13
# Operation : Migartion
# Purpose : Allow to set/get bluetooth_leaudio_offload_prop
set_prop(system_app, bluetooth_leaudio_offload_prop)

# Date : 2023/03/21
# Operation : Migartion
# Purpose : Allow to getprop system_mtk_vodata_prop
# Package: com.mediatek.settings
get_prop(system_app, system_mtk_vodata_prop)

# Date : 2023/03/27
# Operation : Migartion
# Purpose : Allow radio to read ims property
# Package: com.mediatek.settings
get_prop(system_app, system_mtk_dbg_ims_prop)
get_prop(system_app, system_mtk_imsconfig_prop)

